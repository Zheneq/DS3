set xrange [0:time] #границы графика по X
#set yrange [0:1] #границы графика по Y

#unset colorbox
#set terminal postscript eps enhanced color font "Calibri, 14" size 1024,768
#set xrange [0:time] #границы графика по X
#set key off
#
#set output sprintf("%s/%s-Energy-Distribution.eps", folder, folder);
#plot 1 with filledcurves x1 lt rgb "#CC0000",\
	#sprintf("%s/nrg2d.txt", folder) with filledcurves x1 lt rgb "#00CC00",\
	#sprintf("%s/nrg1d.txt", folder) with filledcurves x1 lt rgb "#0000CC";
#	
#set output sprintf("%s/%s-Energy.eps", folder, folder);
#plot sprintf("%s/nrg3.txt", folder) with lines lt rgb "#CC0000",\
	#sprintf("%s/nrg2.txt", folder) with lines lt rgb "#00CC00",\
	#sprintf("%s/nrg1.txt", folder) with lines lt rgb "#0000CC";
	
	
set terminal pngcairo enhanced dashed font "Calibri, 30" size 1300,1000
set border 3
set xtics nomirror
set ytics nomirror

set style line 1 lc rgb 'black' lw 3 lt -1 pt 7
set style line 2 lc rgb 'black' lw 3 lt 0  pt 7
set style line 3 lc rgb 'black' lw 3 lt 7  pt 7

set ylabel "Total Energy Share" 
set xlabel "Time" 
set label 1 ""
set output sprintf("%s/%s-Total-Energy-Distribution.png", folder, folder);
plot sprintf("%s/nrg2d.txt", folder) with filledcurves x1 fs pattern 6 lc rgb "black" ti "",\
	sprintf("%s/nrg1d.txt", folder) with filledcurves x1 lc rgb "white" ti "";
	
set ylabel "Total Energy" 
set xlabel "Time" 
set label 1 "E_T"
set output sprintf("%s/%s-Total-Energy-Localized.png", folder, folder);
plot sprintf("%s/nrg3.txt", folder) with lines ls 2 ti "Transmitted",\
	sprintf("%s/nrg2.txt", folder) with lines ls 1 ti "Localized",\
	sprintf("%s/nrg1.txt", folder) with lines ls 3 ti "Reflected";

set ylabel "Electric Energy Share" 
set xlabel "Time" 
set label 1 ""
set output sprintf("%s/%s-Elec-Energy-Distribution.png", folder, folder);
plot sprintf("%s/nrg2de.txt", folder) with filledcurves x1 fs pattern 6 lc rgb "black" ti "",\
	sprintf("%s/nrg1de.txt", folder) with filledcurves x1 lc rgb "white" ti "";
	
set ylabel "Electric Energy" 
set xlabel "Time" 
set label 1 "E_E"
set output sprintf("%s/%s-Elec-Energy-Localized.png", folder, folder);
plot sprintf("%s/nrg3e.txt", folder) with lines ls 2 ti "Transmitted",\
	sprintf("%s/nrg2e.txt", folder) with lines ls 1 ti "Localized",\
	sprintf("%s/nrg1e.txt", folder) with lines ls 3 ti "Reflected";

set ylabel "Full Electric Energy" 
set xlabel "Time"
set label 1 "E_E"
set output sprintf("%s/%s-Elec-Energy.png", folder, folder);
plot sprintf("%s/nrge.txt", folder) with lines ls 1 ti "";

set ylabel "Full Total Energy" 
set xlabel "Time"
set label 1 "E_T"
set output sprintf("%s/%s-Total-Energy.png", folder, folder);
plot sprintf("%s/nrg.txt", folder) with lines ls 1 ti "";

#set output sprintf("%s/%s-Elec-Energy-Localized-Share.png", folder, folder);
#plot sprintf("%s/nrg2des.txt", folder) with lines ls 1 ti "";

set ylabel "Electric Energy Share of Total Energy" 
set xlabel "Time"
set label 1 ""
set output sprintf("%s/%s-Elec-Energy-Localized-Share-of-Total.png", folder, folder);
plot sprintf("%s/nrg3dets.txt", folder) with lines ls 2 ti "Transmitted",\
	sprintf("%s/nrg2dets.txt", folder) with lines ls 1 ti "Localized",\
	sprintf("%s/nrg1dets.txt", folder) with lines ls 3 ti "Reflected";
	
set xrange [80:250] #границы графика по X
set output sprintf("%s/%s-Elec-Energy-Localized-Share-of-Total-zoomed.png", folder, folder);
set label 1 ""
plot sprintf("%s/nrg3dets.txt", folder) with lines ls 2 ti "Transmitted",\
	sprintf("%s/nrg2dets.txt", folder) with lines ls 1 ti "Localized",\
	sprintf("%s/nrg1dets.txt", folder) with lines ls 3 ti "Reflected";

set autoscale xy
set ylabel "Permittivity" 
set xlabel "" 
set label 1 "{/Symbol e}" at graph -0.15, 1
set label 2 "z" at graph 1, -0.15
set output sprintf("%s/%s-Diel-Cond.png", folder, folder);
plot sprintf("%s/dielcond.txt", folder) with lines ls 1 ti "";

set terminal pngcairo enhanced dashed font "Calibri, 30" size 5000,1000
set ylabel "" 
set xlabel ""
set arrow 1;
do for[i=0:9] {
	set autoscale xy
	unset arrow 1
	set output sprintf("%s/%s-records/rec_%02d.png", folder, folder, i);
	plot sprintf("%s/records.txt", folder) index i with lines ls 1 ti "";
}
	
set ylabel "" 
set xlabel ""
set arrow 1;
do for[i=0:9] {
	set autoscale xy
	unset arrow 1
	set output sprintf("%s/%s-subimpulses/sub_%02d.png", folder, folder, i);
	plot sprintf("%s/subimpulses.txt", folder) index i with lines ls 1 ti "";
	
	set xrange[0:2]
	#set arrow 1 from graph 1,0 to graph 1,0.5 nohead ls 2;
	set arrow 1 from graph 0.5,0 to graph 0.5,1 nohead ls 2;
	set output sprintf("%s/%s-subimpulses/sub_%02d-spec.png", folder, folder, i);
	plot sprintf("%s/subimpulses-spec.txt", folder) index i with lines ls 1 ti "";
}